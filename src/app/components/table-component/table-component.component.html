

   

<div class="container-fluid">
    <p-dropdown  style="padding-bottom: 10px;"  [options]="cities" [(ngModel)]="selectedCityCode" optionLabel="name" optionValue="code"></p-dropdown>
    
<div style="padding-bottom: 10px;padding-top:10px" class="row">
  
    <div class="col-6">
        <span class="p-buttonset">
            <button pButton type="button"  class="orange-button" label="Copiar" icon="pi pi-check"></button>
            <button pButton type="button" label="Excel" icon="pi pi-trash"></button>
            <button pButton type="button" label="Pdf" icon="pi pi-times"></button>
        </span>
    </div>
    <div class="col-6">
        <div class="p-inputgroup">
            <span class="p-inputgroup-addon"><i class="pi pi-search"></i></span>
            <input type="text" pInputText placeholder="Buscar">         
        </div>

    </div>
</div>

<p-table #dt   (onLazyLoad)="loadPage($event, dt)"  
      [paginator]="true"  
      [rows]="10" 
      [lazy]="true" 
      [totalRecords]="totaldata" 
      tyle="font-size:16px;padding:20px"
      [value]="data" responsiveLayout="scroll">
    <ng-template pTemplate="header">
        <tr>
            <th>Cod.</th>
            <th>Competência</th>
            <th>Responsável</th>
            <th>Data de Geração</th>
            <th>Data Limite de Execução</th>
            <th>Data Limite de Transmissão</th>
            <th *ngIf="idsetor == 3 || (idsetor != 3 && idsetor != 2 && idsetor != 8 )">RH - % Completo</th>
            <th *ngIf="idsetor == 2">Fiscal - % Completo</th>
            <th *ngIf="idsetor == 8">Declarações - % Completo</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-competencia>
        <tr>
            <td>{{ competencia.id_empresa_competencia }}</td>
            <td>{{ competencia.competencia }}</td>
            <td>{{ competencia.responsavel }}</td>
            <td>{{ competencia.data_criacao }}</td>
            <td>{{ competencia.data_limite_execucao }}</td>
            <td>{{ competencia.data_limite_transmissao }}</td>

            <td *ngIf="idsetor == 3  || (idsetor != 3 && idsetor != 2 && idsetor != 8 ) "> <p-progressBar [value]="competencia.percDarf"></p-progressBar></td>
            <td *ngIf="idsetor == 2"> <p-progressBar [value]="competencia.percTotalFiscalRet"></p-progressBar> </td>
            <td *ngIf="idsetor == 8">  <p-progressBar [value]="competencia.percTotalDeclaracoes"></p-progressBar> </td>

        </tr>
    </ng-template>
</p-table>
</div>


